# [오늘의집의 매력적인 상품은 고객에게 잘 보여지고 있을까?] 설문 분석 계획 논의 w/ DA

담당자: Ikpyo Hong
날짜: 2025년 11월 10일
상태: Done

# 질문

- @Carl Jang
    
    간략히 매력도, 디자인, 가격을 봤을 때 제 개인적 의견은 매력도가 디자인 + 가격의 조합으로 생각될거 같은데요
    
    1. 여기서 매력도에 더 가중치가 많이들어간 요소가 디자인인지 가격인지 한번 보면 좋을거 같구요
    2. 디자인과 가격의 상관관계도 보면 좋을거 같습니다
    3. 마지막으로 매력도와 조회 분위를 나눴을 때 롱테일에도 높은 매력도의 상품이 얼만큼 있었는지 숏헤드와 비교해보면 좋을거 같아요
    
    근데 말씀주신거처럼 응답자가 적어서 현재 결과로는 어려울거 같고 나중에 설문을 받아보면 위 방식처럼 해보면 어떨까요??
    
- 더 살펴보고 싶은 것 = 매력도 어떤차이일까?

# 데이터

- :googlesheets:https://docs.google.com/spreadsheets/d/1cEwhbd0MibOGK1QV8Wsa8Y1EAPWXYzmllYlCTw0SXFM/edit?gid=601164456#gid=601164456

# 분석 항목

H0 

- pv count 에 따른 매력도의 차이가 없다 vs 있다. / pv Cnt 가 높을수록 매력도가 높다 (혹은 매력도가 높을수록 Pv cnt가 높다)

---

- 고객 기준으로 분석
    
    <aside>
    💡
    
    고객 단위로 큰 차이가 없다면 → 상품단위로 분석 
    
    </aside>
    
    - LE 여부 ((이사, 결혼 했는지 안했는지, 예정인지) - 이미 설문에 있음 ) 에 따라 비슷한 상품군이라도 매력도에 차이가 있나 ?
    - 성별 간 차이 (설문)  에 따라 비슷한 상품군이라도 매력도에 차이가 있나 ?
    - 나이 기준 그룹 차이 (설문) 에 따라 비슷한 상품군이라도 매력도에 차이가 있나 ?
    
    <aside>
    ✅
    
    만약 고객군별로 차이가 있으면 → 상품별 고객군 분포를 보고 → 고르게 분포되도록 하거나  이상치가 크다면 → 이상치 제거 
    
    </aside>
    
- 상품 그룹(pv `percentile_group`) 에 따른 매력도를 중심으로 교차 분석
    - 리뷰 갯수에 따른 매력도의 차이가 유의미한가? 어떻게 ? 얼마나 ?
    - 가격대 에 따른 매력도의 차이가 유의미한가? 어떻게 ? 얼마나 ?
    - 디자인(설문) 에 따른 매력도의 차이가 유의미한가? 어떻게 ? 얼마나 ?
    - 더 살펴보고 싶은지 (설문)에 따른 매력도의 차이가 유의미한가? 어떻게 ? 얼마나 ?
    - 상품 그룹(1%,10%…) (percentile group) 에 따른 매력도의 차이가 유의미한가? 어떻게 ? 얼마나 ?

### 추가

- CP/GP (**1P/3P 구분 기준)** - 커머스에 기준 물어봐야 됨
    - 쿼리
        
        ```jsx
        LEFT JOIN finance.fin_non_3p_seller_current sc 
            ON gp.seller_id = sc.seller_id
        
        -- biz 컬럼 값:
        -- '1P': 1P 가구
        -- '1P_CE': 1P 가전
        -- 'PREMIUM': 프리미엄
        -- '1P_Living': 1P 리빙
        -- 'FOREIGN': 해외직구
        -- NULL or 기타: 3P
        
        -- 방법 1: Shop ID로 간단하게 구분
        SELECT 
            CASE 
                WHEN pv.shop_id IN (13893950, 15482785, 16688323, 3514240) 
                THEN '1P' 
                ELSE '3P' 
            END AS cp_gp_type,
            COUNT(*) as cnt
        FROM ba_preserved.productions_view pv
        GROUP BY 1;
        
        -- 방법 2: Seller 테이블 조인으로 정확하게 구분
        SELECT 
            COALESCE(sc.biz, '3P') AS cp_gp_type,
            sc.biz_type_depth1,
            sc.biz_type_depth2,
            COUNT(*) as cnt
        FROM ba_preserved.commerce_gross_profit gp
        LEFT JOIN finance.fin_non_3p_seller_current sc 
            ON gp.seller_id = sc.seller_id
        GROUP BY 1, 2, 3;
        ```
        
- 브랜드홈 PV로 추정 하는 → 브랜드 파워
    - 쿼리
        
        ```jsx
        -- 브랜드별 브랜드홈 방문 지표
        SELECT 
            base_dt,
            -- 브랜드 식별
            url_model_id AS brand_id,  -- 브랜드홈의 경우 url_model_id가 brand_id
            
            -- PV/UV 지표
            COUNT(DISTINCT event_id) AS brandhome_pv,
            COUNT(DISTINCT 
                CASE
                    WHEN user_id > 0 THEN CAST(user_id AS VARCHAR) 
                    WHEN platform IN ('ANDROID', 'IOS') THEN uuid 
                    WHEN platform LIKE '%WEB%' THEN visitor_id 
                END
            ) AS brandhome_uv,
            
            -- 브랜드 정보 조인을 위한 필드
            b.name AS brand_name
            
        FROM log.analyst_log_table a
        LEFT JOIN mysql_src.brands b 
            ON a.url_model_id = b.id
            
        WHERE 1=1
            AND a.date = '{base_dt}'
            AND a.category = 'PAGEVIEW'
            AND a.page_id IN ('BRAND_DETAIL', 'BRANDHOME_DETAIL', 'BRANDPAGE_DETAIL')
            AND a.url_model_id IS NOT NULL  -- 브랜드 ID가 있는 경우만
            
        GROUP BY 
            base_dt,
            url_model_id,
            b.name
        ORDER BY brandhome_pv DESC;
        ```
        
- 최근 구매 여부 에 따라 비슷한 상품군이라도 매력도에 차이가 있나 ?
    - 오늘의집 고관여 여부
- 인사이드 아웃 기준에 따라 비슷한 상품군이라도 매력도에 차이가 있나 ?
- 주관응답
    - 질문 : 머릿속에 그리던 구체적인 상품이 있었지만,'오늘의집'에서 그 상품을 '발견'하기까지 어려움을 겪으신 경험이 있다면 구체적으로 알려주세요.(예시)- 어떤 상품명이나 키워드로 검색해야 할지 막막했다.- 비슷한 상품은 많이 보였지만, 내가 원했던 '딱 그 상품'은 찾기 어려웠다.- 필터를 적용해도 원하는 상품만 정확히 골라보기 어려웠다.
        - llm으로 토픽 추출도 한번 시도 -> 몇가지의 토픽을 뽑을수 있을까 ?

# 논의

- 더 살펴보고 싶은지 질문 → 일단 유지
    - 매력도와 같은 기준으로 분석하는 변수로 활용한다
    - 만약 매력도와 차이가 없다면 버리자
- 100만명 다 보내자
    - 3% 정도 - 1.8만 응답 예상